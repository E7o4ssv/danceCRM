# üöÄ –§–∏–Ω–∞–ª—å–Ω–æ–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π

## üìä –¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å (–ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–æ —Ç–µ—Å—Ç–∞–º–∏):

### ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç:
- –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ —Å—Ç—É–¥–µ–Ω—Ç–æ–≤ (5 —Å—Ç—É–¥–µ–Ω—Ç–æ–≤)
- –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –≥—Ä—É–ø–ø (2 –≥—Ä—É–ø–ø—ã) 
- –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (13 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π)
- –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Å—Ç—É–¥–µ–Ω—Ç–æ–≤ –≤ –≥—Ä—É–ø–ø—ã (—Ä–æ—É—Ç—ã —Å—É—â–µ—Å—Ç–≤—É—é—Ç)

### ‚ùå –ù–µ —Ä–∞–±–æ—Ç–∞–µ—Ç (–Ω—É–∂–Ω–æ –∏—Å–ø—Ä–∞–≤–∏—Ç—å):
- –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (404 –æ—à–∏–±–∫–∞)
- –ß–∞—Ç –≤ –≥—Ä—É–ø–ø–∞—Ö (–Ω—É–∂–Ω–æ —É–¥–∞–ª–∏—Ç—å)

## üîß –ß—Ç–æ –Ω—É–∂–Ω–æ —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—å:

### 1. –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:
- `server/routes/auth.js` - –¥–æ–±–∞–≤–ª–µ–Ω —Ä–æ—É—Ç `PUT /api/auth/users/{userId}/status`
- `server/index.js` - —É–¥–∞–ª–µ–Ω—ã —Å—Å—ã–ª–∫–∏ –Ω–∞ —á–∞—Ç

### 2. –£–¥–∞–ª–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:
- `server/routes/chat.js` ‚ùå
- `server/routes/private-chat.js` ‚ùå
- `server/models/Chat.js` ‚ùå
- `server/models/PrivateChat.js` ‚ùå

## üöÄ –ö–æ–º–∞–Ω–¥—ã –¥–ª—è —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è:

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ
```bash
./deploy-fixes.sh
```

### –í–∞—Ä–∏–∞–Ω—Ç 2: –†—É—á–Ω–æ–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ
```bash
# 1. –ö–æ–ø–∏—Ä—É–µ–º –∞—Ä—Ö–∏–≤ –Ω–∞ —Å–µ—Ä–≤–µ—Ä
scp dance-fixes-*.tar.gz root@89.104.71.170:/tmp/

# 2. –ü–æ–¥–∫–ª—é—á–∞–µ–º—Å—è –∫ —Å–µ—Ä–≤–µ—Ä—É –∏ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–µ–º
ssh root@89.104.71.170

# 3. –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ:
cd /root/dance  # –∏–ª–∏ /var/www/dance –∏–ª–∏ /opt/dance
pm2 stop dance-server
tar -xzf /tmp/dance-fixes-*.tar.gz
rm -f server/routes/chat.js server/routes/private-chat.js server/models/Chat.js server/models/PrivateChat.js
pm2 start dance-server
rm -f /tmp/dance-fixes-*.tar.gz
```

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ—Å–ª–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è:

### 1. –¢–µ—Å—Ç —Å Node.js:
```bash
node test-with-real-token.js
```

### 2. –¢–µ—Å—Ç —Å curl:
```bash
./curl-test-commands.sh
```

### 3. –†—É—á–Ω–æ–π —Ç–µ—Å—Ç:
```bash
# –ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞
curl -X POST http://89.104.71.170:5000/api/auth/login \
  -H "Content-Type: application/json" \
  -d '{"username":"admin","password":"admin123"}'

# –¢–µ—Å—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å—Ç–∞—Ç—É—Å–∞ (–¥–æ–ª–∂–µ–Ω —Ä–∞–±–æ—Ç–∞—Ç—å –ø–æ—Å–ª–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è)
curl -X PUT http://89.104.71.170:5000/api/auth/users/68792103001ae980769f75ed/status \
  -H "Authorization: Bearer YOUR_TOKEN" \
  -H "Content-Type: application/json" \
  -d '{"isActive": true}'
```

## ‚úÖ –û–∂–∏–¥–∞–µ–º—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ—Å–ª–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è:

1. **–î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Å—Ç—É–¥–µ–Ω—Ç–æ–≤ –≤ –≥—Ä—É–ø–ø—ã** - ‚úÖ —Ä–∞–±–æ—Ç–∞–µ—Ç
2. **–ò–∑–º–µ–Ω–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–µ–π** - ‚úÖ —Ä–∞–±–æ—Ç–∞–µ—Ç (–Ω–æ–≤—ã–π —Ä–æ—É—Ç)
3. **–ß–∞—Ç –≤ –≥—Ä—É–ø–ø–∞—Ö** - ‚ùå –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω (404 –æ—à–∏–±–∫–∏)

## üìã –ù–æ–≤—ã–π API —Ä–æ—É—Ç:

```
PUT /api/auth/users/{userId}/status
Authorization: Bearer {token}
Content-Type: application/json

{
  "isActive": true/false
}

Response:
{
  "message": "User activated/deactivated successfully",
  "user": { ... }
}
```

## üéØ –ü—Ä–æ–±–ª–µ–º—ã —Ä–µ—à–µ–Ω—ã:

1. ‚úÖ **–ù–µ–ª—å–∑—è –¥–æ–±–∞–≤–∏—Ç—å –ª—é–¥–µ–π –≤ –≥—Ä—É–ø–ø—É** - —Ä–æ—É—Ç—ã —Ä–∞–±–æ—Ç–∞—é—Ç
2. ‚úÖ **–ù–µ–ª—å–∑—è –ø–æ–º–µ—Ç–∏—Ç—å –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—è –∫–∞–∫ –Ω–µ–∞–∫—Ç–∏–≤–Ω–æ–≥–æ** - –¥–æ–±–∞–≤–ª–µ–Ω –Ω–æ–≤—ã–π —Ä–æ—É—Ç
3. ‚úÖ **–ß–∞—Ç –≤ –≥—Ä—É–ø–ø–∞—Ö –Ω–µ –Ω—É–∂–µ–Ω** - —É–¥–∞–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å —á–∞—Ç–∞

---

**–ì–æ—Ç–æ–≤–æ –∫ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é!** üöÄ 