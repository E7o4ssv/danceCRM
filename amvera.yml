version: 1.0

# Название проекта
name: dance-school-app

# Описание проекта
description: Приложение для школы танцев с управлением группами и посещаемостью

# Тип проекта - Node.js
type: nodejs

# Версия Node.js
node_version: 18

# Команды для сборки
build:
  - npm install
  - cd client && npm install
  - cd .. && npm run build

# Команда для запуска
run: npm start

# Переменные окружения
env:
  NODE_ENV: production
  PORT: 80
  MONGODB_URI: mongodb://localhost:27017/dance-school
  JWT_SECRET: your-production-secret-key-change-this

# Порт, который слушает приложение
port: 80

# Папки для постоянного хранения
volumes:
  - /data/logs:/app/logs
  - /data/uploads:/app/uploads

# Зависимости системы
dependencies:
  - mongodb

# Скрипты для управления
scripts:
  start: npm start
  dev: npm run dev
  build: npm run build
  test: npm test

# Настройки для статических файлов
static:
  - client/build

# Настройки для API
api:
  routes:
    - /api/*
  cors: true

# Настройки для базы данных
database:
  type: mongodb
  version: 6.0

# Настройки для безопасности
security:
  headers:
    - X-Frame-Options: DENY
    - X-Content-Type-Options: nosniff
    - X-XSS-Protection: 1; mode=block

# Настройки для логирования
logging:
  level: info
  format: json

# Настройки для мониторинга
monitoring:
  health_check: /api/health
  metrics: /api/metrics

# Настройки для кэширования
caching:
  static: 3600
  api: 300

# Настройки для SSL
ssl:
  enabled: true
  redirect: true 